import{u as f,a as m,r as e,S as L,b as j,P as I,n as T,c as k,d as w,j as n,e as y,L as E,C as W,T as x,f as b,I as N}from"./index-B1jCPqfU.js";function $(){const p=f(),a=m().state,o=e.useContext(L),l=e.useContext(j),r=e.useContext(I),[i]=e.useState(T()),[u,C]=e.useState(a.otp.issuer),[c,S]=e.useState(a.otp.label),[d,h]=e.useState(a.icon??"key"),[g,v]=e.useState(a.color??"#1c98e6"),A=e.createRef(),s=k();return w(()=>{var t;return!c&&!((t=A.current)!=null&&t.checkValidity())?(window.Telegram.WebApp.showAlert(s("EmptyLabelAlert")),!1):(r==null||r.trackEvent("New account"),o==null||o.saveAccount({id:i,color:g,icon:d,issuer:u,label:c,uri:a.otp.toString(),order:o.lastOrder()+1}),l==null||l.setLastSelectedAccount(i),p("/"),!0)},s("CreateAction")),n.jsxs(y,{spacing:2,alignItems:"center",children:[n.jsx(E,{animationData:W}),n.jsx(x,{variant:"h5",fontWeight:"bold",align:"center",children:s("NewAccountTitle")}),n.jsx(x,{variant:"subtitle2",align:"center",children:s("AdditionalInfo")}),n.jsx(b,{fullWidth:!0,label:`${s("LabelLabel")} ${s("RequiredLabel")}`,value:c,onChange:t=>{a.otp.label=t.target.value,S(t.target.value)}}),n.jsx(b,{fullWidth:!0,label:s("IssuerLabel"),value:u,onChange:t=>{a.otp.issuer=t.target.value,C(t.target.value)}}),n.jsx(N,{setSelectedIcon:h,selectedIcon:d,selectedColor:g,setSelectedColor:v})]})}export{$ as default};
